{"version":3,"sources":["scripts/main.js"],"names":["head","document","querySelector","body","tbody","formatter","Intl","NumberFormat","sortType","eventCell","addEventListener","event","position","target","cellIndex","sort","children","a","b","sortA","cells","textContent","replace","sortB","isNaN","localeCompare","push","undefined","append","length","reverse","closest","matches","forEach","item","classList","remove","toggle","insertAdjacentHTML","pushNotification","title","description","type","messages","querySelectorAll","setTimeout","form","preventDefault","data","FormData","entries","Object","fromEntries","salary","String","format","name","age","office"],"mappings":"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","file":"main.2f36f1d3.js","sourceRoot":"..\\src","sourcesContent":["/* eslint-disable no-shadow */\n'use strict';\n\nconst head = document.querySelector('thead');\nconst body = document.querySelector('body');\nconst tbody = document.querySelector('tbody');\nconst formatter = new Intl.NumberFormat('en-US');\n\nlet sortType = 0;\nconst eventCell = [];\n\nhead.addEventListener('click', (event) => {\n  const position = event.target.cellIndex;\n\n  const sort = [...tbody.children].sort((a, b) => {\n    const sortA = a.cells[position].textContent.replace(',', '')\n      .replace('$', '');\n    const sortB = b.cells[position].textContent.replace(',', '')\n      .replace('$', '');\n\n    if (isNaN(sortA)) {\n      return sortA.localeCompare(sortB);\n    }\n\n    return sortA - sortB;\n  });\n\n  eventCell.push(event.target.cellIndex);\n\n  if (eventCell[1] === undefined) {\n    sortType = 1;\n\n    return tbody.append(...sort);\n  }\n\n  if (eventCell[eventCell.length - 2] === eventCell[eventCell.length - 1]) {\n    if (sortType === 0) {\n      sortType = 1;\n\n      return tbody.append(...sort);\n    }\n\n    sortType = 0;\n\n    return tbody.append(...sort.reverse());\n  }\n\n  if (eventCell[eventCell.length - 2] !== eventCell[eventCell.length - 1]) {\n    sortType = 1;\n\n    return tbody.append(...sort);\n  }\n});\n\ntbody.addEventListener('click', (event) => {\n  if (event.target.closest('tr').matches('.active')) {\n    return;\n  }\n\n  [...tbody.children].forEach(item => {\n    item.classList.remove('active');\n  });\n\n  event.target.closest('tr').classList.toggle('active');\n});\n\nbody.insertAdjacentHTML('beforeend', `\n  <form \n    class=\"new-employee-form\"\n  >\n    <label>Name:\n      <input\n      data-qa=\"name\"\n      name=\"name\"\n      type=\"text\"\n      required\n      >\n    </label>\n\n    <label>Position:\n      <input\n        data-qa=\"position\"\n        name=\"position\"\n        type=\"text\"\n        required\n      >\n    </label>\n\n    <label>Office:\n      <select\n        data-qa=\"office\"\n        id=\"office\"\n        name=\"office\"\n        required\n      >\n        <option value=\"Tokyo\">Tokyo</option>\n        <option value=\"Singapore\">Singapore</option>\n        <option value=\"London\">London</option>\n        <option value=\"New York\">New York</option>\n        <option value=\"Edinburgh\">Edinburgh</option>\n        <option value=\"San Francisco\">San Francisco</option>\n      </select>\n    </label>\n\n    <label>Age:\n      <input\n        data-qa=\"age\"\n        name=\"age\"\n        type=\"number\"\n        required\n      >\n    </label>\n\n    <label>Salary:\n      <input\n        data-qa=\"salary\"\n        name=\"salary\"\n        type=\"number\"\n        required\n      >\n    </label>\n\n    <button name=\"button\" type=\"submit\">Save to table</button>\n  </form>\n`);\n\nconst pushNotification = (title, description, type) => {\n  body.insertAdjacentHTML('beforeend', `\n    <div\n    style=\"top: 10px; right: 10px;\"\n    data-qa=\"notification\"\n    class=\"notification ${type}\">\n    <h2 class=\"title\">\n    ${title}\n    </h2>\n    <p>\n    ${description}\n    </p>\n    </div>\n    `);\n\n  const messages = document.querySelectorAll('.notification');\n\n  setTimeout(() => {\n    for (const message of [...messages]) {\n      message.remove();\n    }\n  }, 2000);\n};\n\nconst form = document.querySelector('.new-employee-form');\n\nform.addEventListener('submit', (event) => {\n  event.preventDefault();\n\n  const data = new FormData(form);\n  const entries = Object.fromEntries(data.entries());\n  const salary = String(formatter.format(entries.salary));\n\n  if (entries.name.length < 4) {\n    return pushNotification('Error message',\n      'Name has to contain 4 or more letters.',\n      'error');\n  }\n\n  if (entries.age < 18 || entries.age > 90) {\n    return pushNotification('Error message',\n      'Age has to be between 18 and 90 years old.',\n      'error');\n  }\n\n  tbody.insertAdjacentHTML('afterbegin', `\n  <tr>\n    <td>${entries.name}</td>\n    <td>${entries.position}</td>\n    <td>${entries.office}</td>\n    <td>${entries.age}</td>\n    <td>$${salary}</td>\n  </tr>\n  `);\n\n  pushNotification('Success message',\n    'The employee is successfully added to the table.',\n    'success');\n});\n"]}